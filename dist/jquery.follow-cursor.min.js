(function($){function FollowCursor(config){this.init(config)}FollowCursor.prototype={middleX:0,middleY:0,constructor:FollowCursor,el:null,init:function(config){$.extend(this,config)},handleMove:function(event){var newY=0;var newX=0;var middleX=this.middleX;var middleY=this.middleY;var degrees=0;if(event.pageY<middleY&&event.pageX<middleX){newY=middleY-event.pageY;newX=middleX-event.pageX;var radians=Math.atan2(newY,newX);degrees=radians*(180/Math.PI);degrees=90-degrees;degrees*=-1}else if(event.pageY<middleY&&event.pageX>middleX){newY=middleY-event.pageY;newX=event.pageX-middleX;add=.25*360;var radians=Math.atan2(newY,newX);degrees=radians*(180/Math.PI);degrees=90-degrees}else if(event.pageY>middleY&&event.pageX>middleX){newY=event.pageY-middleY;newX=event.pageX-middleX;add=.5*360;var radians=Math.atan2(newY,newX);degrees=radians*(180/Math.PI);degrees+=90}else if(event.pageY>middleY&&event.pageX<middleX){newY=event.pageY-middleY;newX=middleX-event.pageX;add=.75*360;var radians=Math.atan2(newY,newX);degrees=radians*(180/Math.PI);degrees+=90;degrees*=-1}else if(event.pageX<middleX&&event.pageY==middleY){degrees=-90}else if(event.pageX==middleX&&event.pageY>middleY){degrees=-180}else if(event.pageX>middleX&&event.pageY==middleY){degrees=90}var $cvs=this.el;$cvs.css("-ms-transform","rotate("+degrees+"deg)");$cvs.css("-o-transform","rotate("+degrees+"deg)");$cvs.css("-webkit-transform","rotate("+degrees+"deg)");$cvs.css("-moz-transform","rotate("+degrees+"deg)")}};$.fn.followCursor=function(){var dataName="followCursor";return this.each(function(){var el=$(this);var initialConfig=$.extend({},el.data());config=$.extend(initialConfig,{});config.el=el;var instance=new FollowCursor(config);var position=el.offset();var realWidth=el.outerWidth();var realHeight=el.outerHeight();var middleX=position.left+el.width()/2;var middleY=position.top+el.height()/2;instance.middleX=middleX;instance.middleY=middleY;el.data(dataName,instance);$(document).mousemove(function(event){instance.handleMove(event)})})}})(jQuery);
